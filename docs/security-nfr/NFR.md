| ID         | Название                               | Описание                                                                 | Метрика/Порог                                 | Проверка (чем/где)                      | Компонент | Приоритет |
|------------|----------------------------------------|--------------------------------------------------------------------------|-----------------------------------------------|-----------------------------------------|-----------|-----------|
| NFR-API-ERR| Контракт ошибок                        | Единый JSON-формат: `{"error": {"code", "message"}}` + нормализация HTTPException. | 100% эндпойнтов                              | `tests/test_errors.py` + ручная проверка | api       | High      |
| NFR-PII    | Отсутствие утечек PII                  | Поле password не возвращается в ответы/логи/ошибки.                      | 0 появлений `password` вне хранения          | Контракт-тесты `/users*`                | api       | High      |
| NFR-DTO    | Валидация входных данных               | Неполные/невалидные DTO дают 422 с подробным `detail`.                   | 100% DTO валидируются                         | `tests/test_errors.py`                  | api       | High      |
| NFR-P95    | Производительность чтения задач        | p95 для `GET /tasks` на 50 RPS                                            | p95 ≤ 200 ms @ 50 RPS                        | Нагрузочный тест `k6/locust`             | api       | Medium    |
| NFR-THRPUT | Пропускная способность                 | Удержание целевого RPS без деградации                                     | 50 RPS в течение 5 мин, ошибки ≤ 1%          | Нагрузочный тест                        | api       | Medium    |
| NFR-SCA    | Безопасность зависимостей              | High/Critical уязвимости устраняются быстро                               | Время до фикса ≤ 7 дней                       | CI: pip-audit/Dependabot                | build     | High      |
| NFR-LOG    | Логи с корреляцией и маскированием     | Маскировка секретов; `request_id` для ошибок                             | 100% ошибок содержат `request_id`             | Просмотр логов + e2e                    | platform  | Medium    |
| NFR-OPENAPI| Синхронизация OpenAPI                  | Схемы DTO/ошибок соответствуют реальному контракту                       | diff=0 с эталоном (линт)                      | Линтер OpenAPI / Swagger UI             | api       | Medium    |
