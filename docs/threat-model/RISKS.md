## Реестр рисков

Оценка по шкале: L — вероятность (1..5), I — влияние (1..5), Risk = L×I.

| ID | Связь (DFD/Flow) | Риск (кратко) | Описание | L | I | Risk | Стратегия | Владелец | Срок | Критерий закрытия |
|----|-------------------|---------------|----------|---|---|------|-----------|----------|------|-------------------|
| R-01 | F1 (User → Session manager) | Перехват учетных данных | Недостаточная защита канала, уязвимые конфигурации TLS | 3 | 5 | 15 | снизить | DevOps | 2025-10-31 | Включен HTTPS/TLS 1.2+, HSTS; сканер SSL Labs A; ZAP baseline в CI |
| R-02 | F1/F3 (входные DTO) | Инъекции через входные данные | Отсутствие строгой валидации DTO/OpenAPI | 3 | 4 | 12 | снизить | Backend | 2025-10-25 | NFR-DTO и NFR-OPENAPI соблюдены; все негативные тесты 422 проходят |
| R-03 | F2 (ответы) | Утечка PII в ответах | Поле `password`/секреты попадают в API/логи | 2 | 5 | 10 | снизить | Backend | 2025-10-25 | NFR-PII выполнен; e2e/BDD тесты подтверждают отсутствие PII |
| R-04 | F5 (проверка доступа) | Эскалация привилегий | Неверная авторизация при CRUD операций | 3 | 5 | 15 | снизить | Backend | 2025-11-05 | Тесты RBAC покрывают кейсы; коды ошибок по NFR-API-ERR; ревью |
| R-05 | F6 (доступ к User DB) | Компрометация канала БД | Отсутствие изоляции сети/шифрования к БД | 2 | 5 | 10 | снизить | DevOps | 2025-11-10 | Приватная сеть/SG настроены, TLS к БД (если доступно); проверка IaC |
| R-06 | F7 (CRUD Tasks ↔ Task DB) | Инъекции в БД/порча данных | Непараметризованные запросы, слабые миграции | 3 | 4 | 12 | снизить | Backend | 2025-11-01 | ORM/параметризация обязательны; линтер SQL; e2e CRUD «зелёные» |
| R-07 | F10/F11/F12 | Утечки и спуфинг в логах | Секреты в логах, отсутствие request_id, подмена источника | 3 | 3 | 9 | снизить | DevOps | 2025-11-05 | NFR-LOG выполнен; логи маскированы; присутствует request_id в 100% ошибок |
| R-08 | F13 (доступ к логам) | Неправомерный доступ к логам | Отсутствие RBAC/аудита чтения логов | 2 | 4 | 8 | снизить | SecOps | 2025-11-10 | RBAC на чтение логов; аудит обращений включен; проверка вручную |
| R-09 | Supply Chain (общ.) | Уязвимости зависимостей | Высокие/Critical уязвимости в библиотеках | 3 | 4 | 12 | перенести/снизить | DevOps | 2025-10-20 | NFR-SCA: pip-audit/Dependabot включены в CI; срок устранения ≤7 дней |
| R-10 | Производительность (F3/F4) | Деградация под нагрузкой | p95 и Throughput вне целевых метрик | 2 | 4 | 8 | принять/снизить | QA/Perf | 2025-11-15 | NFR-P95 и NFR-THRPUT достигнуты на стенде; отчёт о нагрузочном тесте |

### Примечания
- Стратегии: «принять» — осознанно оставить риск; «снизить» — внедрить контроли; «избежать» — изменить дизайн; «перенести» — передать ответственность/страхование/вендор.
- Критерии закрытия намеренно связаны с конкретными артефактами: CI‑сканы (ZAP, pip‑audit), тесты (BDD/e2e), политики логов, метрики производительности (NFR‑P95/THRPUT).
