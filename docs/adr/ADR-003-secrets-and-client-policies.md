# ADR-003: Управление секретами и политики HTTP-клиента

## Контекст
Жесткое кодирование секретов и неограниченные исходящие HTTP-вызовы небезопасны и нестабильны. Нам нужен контролируемый источник секретов и надежные политики клиента.

## Решение
- Секреты:
  - Загружать только из переменных окружения (или хранилища секретов), никогда из кода или VCS.
  - Запретить логирование значений секретов; маскировать при необходимости.
  - Предоставить руководство по ротации, читая при запуске процесса и поддерживая перезагрузку.
- Политики HTTP-клиента:
  - Централизовать HTTP-клиент с разумными настройками по умолчанию: таймауты подключения/чтения, максимальные повторы с откатом, ограничения, дружественные к цепям.
  - Принудительно требовать таймаут для каждого запроса.

## Последствия
- Снижение риска утечки и улучшение надежности внешних вызовов.
- Вводит небольшой модуль-обертку и тесты.

## Ссылки
- NFR: см. `docs/security-nfr/NFR.md`
- P04 F#/R#: F#-secrets, R#-no-secrets-in-code, R#-timeouts
- Тесты: TBA (обертка клиента), покрытие через модульные тесты
